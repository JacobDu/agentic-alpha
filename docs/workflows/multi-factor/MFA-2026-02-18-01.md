# MFA-2026-02-18-01：SFA-07新因子融入多因子组合验证

## 基本信息

| 字段 | 值 |
|---|---|
| round_id | MFA-2026-02-18-01 |
| 日期 | 2026-02-18 |
| 市场 | csi1000 |
| 测试区间 | 2024-01-01 ~ 2024-12-31（242交易日）|
| 假设 | SFA-07新因子（8方向×33个显著因子）可在多因子框架中提升组合IR |
| 对应SFA | SFA-2026-02-18-07 |
| 临时脚本 | scripts/mfa_sfa07_comparison.py（已删除）|
| 结果文件 | outputs/mfa_sfa07_results.json |

---

## 模型与策略配置

| 参数 | 值 |
|---|---|
| 模型 | LGBModel（LightGBM）|
| colsample_bytree | 0.8879 |
| learning_rate | 0.05 |
| max_depth | 8 |
| num_leaves | 128 |
| n_estimators | 1000 |
| early_stopping_rounds | 50 |
| label | Ref($close, -2)/Ref($close, -1) - 1 |
| 策略 | TopkDropoutStrategy |
| hold_thresh | 20 |
| 开仓成本 | 0.0005 |
| 平仓成本 | 0.0015 |
| limit_threshold | 0.095 |

---

## 实验设计（4组对比）

| 实验名 | TopN | exclude_new | topk | n_drop |
|---|---|---|---|---|
| old_top30_baseline | 30 | ✓（仅旧因子）| 30 | 5 |
| new_top30_sfa07 | 30 | ✗（含新）| 30 | 5 |
| new_top50_sfa07 | 50 | ✗（含新）| 50 | 5 |
| new_top50_ndrop10_sfa07 | 50 | ✗（含新）| 50 | 10 |

新因子类别（SFA-07）：`ofi`, `price_impact`, `turn_speed`, `ovn_asym`, `intra_struct`, `val_accel`, `vol_regime`, `pv_health`

---

## 实验结果

| 实验 | IC | ICIR | RankIC | RankICIR | 年化收益(含成本) | IR(含成本) | MaxDD(含成本) | 日换手率 | 耗时 |
|---|---|---|---|---|---|---|---|---|---|
| old_top30_baseline | 0.0346 | 0.2754 | 0.0253 | 0.1888 | **+17.23%** | **1.564** | -8.62% | 6.19% | 35.8s |
| new_top30_sfa07 | 0.0346 | 0.2766 | 0.0266 | 0.2031 | -2.00% | -0.189 | -16.48% | 5.96% | 37.0s |
| new_top50_sfa07 | 0.0352 | 0.2815 | 0.0273 | 0.2174 | -7.84% | -1.039 | -10.71% | 4.57% | 46.9s |
| new_top50_ndrop10_sfa07 | 0.0352 | 0.2815 | 0.0273 | 0.2174 | -2.96% | -0.303 | -13.06% | 6.68% | 47.1s |

---

## 诊断与分析

### 关键发现

1. **SFA-07新因子在Top30中仅有1个进入**（PIDE_HIGHVOL_REVERSAL_10 排名第27）
   - 旧因子库前26名均为旧类别（composite/volume/range/path等）
   - 新因子占比极低，难以贡献增量信号

2. **IC几乎未变（0.0346 → 0.0346）**，但组合IR从1.564大幅退化到-0.189
   - PIDE_HIGHVOL_REVERSAL_10与已有的ORTH_HIGHVOL_RET_20（rank#24）属于同类反转逻辑
   - 极可能存在**信号冲突/多重共线性**，导致信号相消

3. **扩展到Top50后预测RankICIR提升**（0.2031 → 0.2174），但组合IR仍为负值
   - 说明Top30~50区间的新因子未能有效多样化，反而引入噪声

4. **数据库存在重复因子名条目**（CSTM_AMT_CV_20、CSTM_VOL_CV_10出现两次）
   - 影响了TopN选择的稳定性
   - 待后续清理

### 退化根因

| 根因 | 证据 |
|---|---|
| 新因子信号覆盖已有旧因子 | PIDE_HIGHVOL_REVERSAL_10 与 ORTH_HIGHVOL_RET_20 均为高波反转类 |
| 新因子单独ICIR突出但组合中冗余 | SFA ICIR=0.322，但Top30中仅排#27 |
| 新因子在Top30中占比不足1/30 | 33个显著新因子中仅1个进入Top30 |

---

## 最优组合（最终推荐）

| 参数 | 值 |
|---|---|
| **因子集** | **DB Top30 旧因子库（exclude SFA-07类别）** |
| **topk** | **30** |
| **n_drop** | **5** |
| **hold_thresh** | **20** |
| **年化收益(含成本)** | **+17.23%** |
| **IR(含成本)** | **1.564** |
| **MaxDD** | **-8.62%** |
| **日换手率** | **6.19%** |

---

## 决策

**Decision: Iterate**

- SFA-07新因子在单因子统计上显著（33/40 pass FDR），但多因子融合未带来增量
- 根本原因：新因子与已有Top因子高度相关，正交化空间有限
- **next_action**：
  1. 对SFA-07新因子进行**相关性矩阵分析**，识别与Top30旧因子的重叠
  2. 对显著新因子做**Gram-Schmidt正交化**后再尝试纳入
  3. 特别关注：`TURN_VOL_REGIME_5_60`（vol_regime方向，icir=-0.273）与`OVN_INTRA_DIFF_10`（ovn_asym方向，icir=+0.268），这两个方向与已有Top因子相关性可能最低
  4. 或考虑以**组合因子**形式，用新方向因子替换部分相关旧因子，而非直接扩库

---

## 证据链

- 结果文件：`outputs/mfa_sfa07_results.json`
- SFA前置：`docs/workflows/single-factor/SFA-2026-02-18-07.md`
- DB快照：367个因子，Top30组成见诊断部分
